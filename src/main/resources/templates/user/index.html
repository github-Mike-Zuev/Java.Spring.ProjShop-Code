<!DOCTYPE html>
<!--<html lang="en">-->
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Личный кабинет клиента</title>
</head>
<body>
<h1>Личный кабинет клиента</h1>
<h3>Вас приветствует наш магазин!</h3>
<form method="post" th:action="@{/logout}">
    <!--    <a href="/product">Список товаров</a> //дублирование инфо-->
    <input type="submit" value="Выйти из личного кабинета">
</form>
<br>
<form method="get" th:action="@{/orders}">
    <input type="submit" value="Ваши заказы">
</form>
<br><br>
<form method="get" th:action="@{/cart}">
    <button type="submit">Перейти к корзине</button>
</form>
<!--<a th:href="@{/cart}">Перейти к корзине</a>-->

<br><br><br><br>
<form th:method="POST" th:action="@{/user/search}">
    <h2>Поиск продукции</h2>
    <label for="search">Поиск в названии</label>
    <input name="search" type="text" th:value="*{value_search}" id="search">
    <br><br>
    <fieldset>
        <legend>Выбор предела цен: </legend>
        <label for="minPrice">Минимальная цена</label>
        <input name="minPrice" type="number" step="0.2" min="0" th:value="*{value_minPrice}" id="minPrice">
        <label for="maxPrice">Максимальная цена</label>
        <input name="maxPrice" type="number" step="0.2" min=0 th:value="*{value_maxPrice}" id="maxPrice">
    </fieldset>
    <br><br>
    <fieldset>
        <br>
        <legend>Выбор параметров сортировки</legend>
        <div>
            <label for="inCategory">Выбор категории товаров: </label>
            <select name="inCategory" id="inCategory">
                <div th:each="category: ${categories}" >
                    <option th:text="${category.getName()}" th:value="${category.getId()}"></option>
                </div>
            </select>
            <br><br>
            <label for="ascending_price">Отсортировать по возрастанию цены</label>
            <input type="radio" id="ascending_price" checked name="sorting" value="ascending_price">
            <br><br>
            <label for="descending_price">Отсортировать по убыванию цены</label>
            <input type="radio" id="descending_price" name="sorting" value="descending_price">
            <br><br>
            <input type="submit" value="Найти">
        </div>
    </fieldset>
</form>
<br><br>
<h3>Результат</h3>
<div th:each="product : ${search_result}">
    <img th:src="'/img/'+ ${product.imageList[0].getFileName()}"  width="50px" >
    <br>
    <a th:href="@{/product/info/{id}(id=${product.getId()})}" th:text="${product.getTitle()}"></a>
    <p th:text="'Цена: ' + ${product.getPrice()}"></p>
    <a th:href="@{/cart/add/{id}(id=${product.getId()})}">Добавить продукт в корзину</a>
    <hr>
</div>
<hr>
<br><br>
<h3>Доступные товары:</h3>
<div th:each="product : ${products}" >
    <img th:src="'/img/' + ${product.imageList[0].getFileName()}"   width="50px" >
    <br>
    <a th:href="@{/product/info/{id}(id=${product.getId()})}" th:text="${product.getTitle()}"></a>
    <p th:text="'Цена: ' + ${product.getPrice()}"></p>
    <a th:href="@{/cart/add/{id}(id=${product.getId()})}">Добавить продукт в корзину</a>
    <hr>

</div>

</body>
</html>